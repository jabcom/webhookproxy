# WebhookProxy Production Environment Configuration
# Copy this file to .env.production and update the values

# =============================================================================
# SECURITY CONFIGURATION (REQUIRED)
# =============================================================================

# JWT Secret Key (REQUIRED - Generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Admin Password (REQUIRED - Generate with: openssl rand -base64 16)
ADMIN_PASSWORD=your-secure-admin-password

# Enable Authentication (REQUIRED in production)
REQUIRE_AUTH=true

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Enable Rate Limiting (REQUIRED in production)
ENABLE_RATE_LIMIT=true

# Maximum connections per IP address
MAX_CONNECTIONS_PER_IP=5

# Maximum requests per minute per IP
MAX_REQUESTS_PER_MINUTE=50

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Allowed Origins (comma-separated, use * for all)
ALLOWED_ORIGINS=https://yourdomain.com,https://api.yourdomain.com

# Slug Whitelist (comma-separated, leave empty to allow all)
SLUG_WHITELIST=api-service,webhook-handler,data-processor

# Maximum request size in bytes (5MB = 5242880)
MAX_REQUEST_SIZE=5242880

# Enable CORS
ENABLE_CORS=true

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Node Environment
NODE_ENV=production

# Server Port
PORT=3000

# =============================================================================
# MEMORY MANAGEMENT
# =============================================================================

# Maximum log entries in memory
MAX_LOGS=500

# Log retention in days
LOG_RETENTION_DAYS=3

# Statistics retention in days
STATS_RETENTION_DAYS=7

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Compose Project Name
COMPOSE_PROJECT_NAME=webhookproxy

# =============================================================================
# NGINX CONFIGURATION (if using nginx reverse proxy)
# =============================================================================

# SSL Certificate Path
SSL_CERT_PATH=./ssl/cert.pem

# SSL Private Key Path
SSL_KEY_PATH=./ssl/key.pem

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Enable detailed logging
ENABLE_DEBUG_LOGS=false

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Backup Directory
BACKUP_DIR=./backups

# Enable automatic backups
ENABLE_BACKUPS=true

# Backup retention in days
BACKUP_RETENTION_DAYS=30

# =============================================================================
# EXAMPLES FOR COMMON SCENARIOS
# =============================================================================

# Development Environment
# NODE_ENV=development
# REQUIRE_AUTH=false
# ENABLE_RATE_LIMIT=false
# MAX_CONNECTIONS_PER_IP=50
# MAX_REQUESTS_PER_MINUTE=1000

# Staging Environment
# NODE_ENV=production
# REQUIRE_AUTH=true
# ENABLE_RATE_LIMIT=true
# MAX_CONNECTIONS_PER_IP=10
# MAX_REQUESTS_PER_MINUTE=100

# Production Environment (High Security)
# NODE_ENV=production
# REQUIRE_AUTH=true
# ENABLE_RATE_LIMIT=true
# MAX_CONNECTIONS_PER_IP=5
# MAX_REQUESTS_PER_MINUTE=50
# SLUG_WHITELIST=api-service,webhook-handler
# MAX_REQUEST_SIZE=1048576  # 1MB